(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{114:function(e,t,n){"use strict";n.r(t),n.d(t,"frontMatter",(function(){return i})),n.d(t,"metadata",(function(){return o})),n.d(t,"rightToc",(function(){return s})),n.d(t,"default",(function(){return b}));var r=n(1),a=n(6),c=(n(0),n(151)),i={id:"resource_withInfinityList",title:"withInfinityList",sidebar_label:"withInfinityList"},o={id:"resources/resource_withInfinityList",title:"withInfinityList",description:"This is function that will return HOC to work with infinity lists. ",source:"@site/docs/resources/withInfinityList.md",permalink:"/bones/docs/resources/resource_withInfinityList",editUrl:"https://github.com/alexgul4enko/bones/tree/master/docs/docs/resources/withInfinityList.md",sidebar_label:"withInfinityList",sidebar:"resourcesSitebar",previous:{title:"withFinalForm",permalink:"/bones/docs/resources/resource_withFinalForm"},next:{title:"navigationToProps",permalink:"/bones/docs/resources/resource_navigationToProps"}},s=[{value:"<del>API</del>",id:"api",children:[{value:"<del>resource</del>",id:"resource",children:[]},{value:"<del>options</del>",id:"options",children:[]}]},{value:"<del>Usage</del>",id:"usage",children:[{value:"<del>loadNext</del>",id:"loadnext",children:[]},{value:"<del>onRefresh</del>",id:"onrefresh",children:[]},{value:"<del>isRefreshing</del>",id:"isrefreshing",children:[]},{value:"<del>onSearch</del>",id:"onsearch",children:[]}]}],l={rightToc:s};function b(e){var t=e.components,n=Object(a.a)(e,["components"]);return Object(c.b)("wrapper",Object(r.a)({},l,n,{components:t,mdxType:"MDXLayout"}),Object(c.b)("p",null,"This is function that will return HOC to work with infinity lists. "),Object(c.b)("h2",{id:"api"},Object(c.b)("del",{parentName:"h2"},"API")),Object(c.b)("pre",null,Object(c.b)("code",Object(r.a)({parentName:"pre"},{className:"language-javascript"}),"import { withInfinityList } from '@cranium/resource'\n\nwithInfinityList(resource, options)\n")),Object(c.b)("h3",{id:"resource"},Object(c.b)("del",{parentName:"h3"},"resource")),Object(c.b)("p",null,"This is ",Object(c.b)("a",Object(r.a)({parentName:"p"},{href:"/frontend-docs/docs/resources/connect_resources#resource"}),"Resource")," object or String configuration.\nThe difference between all previous HOC's i that withInfinityList does not acceps several ",Object(c.b)("a",Object(r.a)({parentName:"p"},{href:"/frontend-docs/docs/resources/connect_resources#resource"}),"Resource")," configs so that it can not be a array.\nIt could be also custoresource function."),Object(c.b)("h3",{id:"options"},Object(c.b)("del",{parentName:"h3"},"options")),Object(c.b)("p",null,"Object with additional configurations"),Object(c.b)("table",null,Object(c.b)("thead",{parentName:"table"},Object(c.b)("tr",{parentName:"thead"},Object(c.b)("th",Object(r.a)({parentName:"tr"},{align:null}),"Property"),Object(c.b)("th",Object(r.a)({parentName:"tr"},{align:null}),"type"),Object(c.b)("th",Object(r.a)({parentName:"tr"},{align:null}),"Default"))),Object(c.b)("tbody",{parentName:"table"},Object(c.b)("tr",{parentName:"tbody"},Object(c.b)("td",Object(r.a)({parentName:"tr"},{align:null}),Object(c.b)("a",Object(r.a)({parentName:"td"},{href:"/frontend-docs/docs/resources/resource_prefetchResources#refresh"}),"refresh")),Object(c.b)("td",Object(r.a)({parentName:"tr"},{align:null}),"Boolean"),Object(c.b)("td",Object(r.a)({parentName:"tr"},{align:null}),"true")),Object(c.b)("tr",{parentName:"tbody"},Object(c.b)("td",Object(r.a)({parentName:"tr"},{align:null}),Object(c.b)("a",Object(r.a)({parentName:"td"},{href:"/frontend-docs/docs/resources/resource_prefetchResources#destroyonunmount"}),"destroyOnUnmount")),Object(c.b)("td",Object(r.a)({parentName:"tr"},{align:null}),"Boolean"),Object(c.b)("td",Object(r.a)({parentName:"tr"},{align:null}),"true")),Object(c.b)("tr",{parentName:"tbody"},Object(c.b)("td",Object(r.a)({parentName:"tr"},{align:null}),Object(c.b)("a",Object(r.a)({parentName:"td"},{href:"/frontend-docs/docs/resources/resource_prefetchResources#defaultparams"}),"defaultParams")),Object(c.b)("td",Object(r.a)({parentName:"tr"},{align:null}),"Object"),Object(c.b)("td",Object(r.a)({parentName:"tr"},{align:null}),"null")),Object(c.b)("tr",{parentName:"tbody"},Object(c.b)("td",Object(r.a)({parentName:"tr"},{align:null}),Object(c.b)("a",Object(r.a)({parentName:"td"},{href:"/frontend-docs/docs/resources/resource_prefetchResources#loader"}),"Loader")),Object(c.b)("td",Object(r.a)({parentName:"tr"},{align:null}),"React Element"),Object(c.b)("td",Object(r.a)({parentName:"tr"},{align:null}))),Object(c.b)("tr",{parentName:"tbody"},Object(c.b)("td",Object(r.a)({parentName:"tr"},{align:null}),Object(c.b)("a",Object(r.a)({parentName:"td"},{href:"/frontend-docs/docs/resources/resource_withFinalForm#prefetch"}),"prefetch")),Object(c.b)("td",Object(r.a)({parentName:"tr"},{align:null}),"Boolean"),Object(c.b)("td",Object(r.a)({parentName:"tr"},{align:null}),"true")))),Object(c.b)("h2",{id:"usage"},Object(c.b)("del",{parentName:"h2"},"Usage")),Object(c.b)("p",null,Object(c.b)("del",{parentName:"p"},"withInfinityList")," will pass 3 more additional props to your component:"),Object(c.b)("h3",{id:"loadnext"},Object(c.b)("del",{parentName:"h3"},"loadNext")),Object(c.b)("p",null,"Function that could be used on scroll end.\nThis will automatically increment offset by limit and concat previos data with new batch of data."),Object(c.b)("div",{className:"admonition admonition-caution alert alert--warning"},Object(c.b)("div",Object(r.a)({parentName:"div"},{className:"admonition-heading"}),Object(c.b)("h5",{parentName:"div"},Object(c.b)("span",Object(r.a)({parentName:"h5"},{className:"admonition-icon"}),Object(c.b)("svg",Object(r.a)({parentName:"span"},{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"}),Object(c.b)("path",Object(r.a)({parentName:"svg"},{fillRule:"evenodd",d:"M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"})))),"caution")),Object(c.b)("div",Object(r.a)({parentName:"div"},{className:"admonition-content"}),Object(c.b)("p",{parentName:"div"},"loadNext will only work with ",Object(c.b)("inlineCode",{parentName:"p"},"offset")," ",Object(c.b)("inlineCode",{parentName:"p"},"limit")," pagination type"))),Object(c.b)("h3",{id:"onrefresh"},Object(c.b)("del",{parentName:"h3"},"onRefresh")),Object(c.b)("p",null,"Function that could be to refresh page. In most case it is pull down to refresh.\nThis will automatically set offset to 0 and replace previous data in redux with new one"),Object(c.b)("h3",{id:"isrefreshing"},Object(c.b)("del",{parentName:"h3"},"isRefreshing")),Object(c.b)("p",null,"Boolean indicator that shows if refresh is pending"),Object(c.b)("h3",{id:"onsearch"},Object(c.b)("del",{parentName:"h3"},"onSearch")),Object(c.b)("pre",null,Object(c.b)("code",Object(r.a)({parentName:"pre"},{}),"onSearch(filters)\n")),Object(c.b)("p",null,"onSearch is function to handle what ever filter requests.\nThis function has debounce 300 to have ability to use it for on air search.\nAlso pending search requests will be terminated on componet unmount and each next search request will terminate previous search request."),Object(c.b)("pre",null,Object(c.b)("code",Object(r.a)({parentName:"pre"},{className:"language-javascript"}),"import { withInfinityList } from '@cranium/resource'\n\nfunction InfinityListView ({\n  cars,\n  loadNext,\n  onRefresh,\n  isRefreshing,\n  onSearch\n}) {\n  return (\n    <Fragment>\n      <TextInput onChangeText={(value) => onSearch({ search: value })}/>\n      <FlatList\n        data={get(cars, 'data.results', [])}\n        onEndReached={loadNext}\n        onRefresh={onRefresh}\n        refreshing={isRefreshing}\n        renderItem={YourItem}\n        keyExtractor={yourKeyExtractor}\n      />\n    </Fragment>\n  )\n}\n    \nexport default withInfinityList({\n  namespace: 'cars',\n  queries: ['offset', 'limit', 'search']\n})(InfinityListView)\n\n")))}b.isMDXComponent=!0},151:function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return h}));var r=n(0),a=n.n(r);function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},c=Object.keys(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var l=a.a.createContext({}),b=function(e){var t=a.a.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):o({},t,{},e)),n},u=function(e){var t=b(e.components);return a.a.createElement(l.Provider,{value:t},e.children)},d={inlineCode:"code",wrapper:function(e){var t=e.children;return a.a.createElement(a.a.Fragment,{},t)}},p=Object(r.forwardRef)((function(e,t){var n=e.components,r=e.mdxType,c=e.originalType,i=e.parentName,l=s(e,["components","mdxType","originalType","parentName"]),u=b(n),p=r,h=u["".concat(i,".").concat(p)]||u[p]||d[p]||c;return n?a.a.createElement(h,o({ref:t},l,{components:n})):a.a.createElement(h,o({ref:t},l))}));function h(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var c=n.length,i=new Array(c);i[0]=p;var o={};for(var s in t)hasOwnProperty.call(t,s)&&(o[s]=t[s]);o.originalType=e,o.mdxType="string"==typeof e?e:r,i[1]=o;for(var l=2;l<c;l++)i[l]=n[l];return a.a.createElement.apply(null,i)}return a.a.createElement.apply(null,n)}p.displayName="MDXCreateElement"}}]);